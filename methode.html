<script>
	window.pathToJPT = ''; // <---- Put the full path to the JPT here
</script>




<!-- (BEGIN) globe graphic embed -->

<!--[if lte IE 8]>    		
<![endif]-->

<!-- *** DO NOT TOUCH *** -->
<div id='globe-graphic-embed-1' style='margin: 20px 0;'></div>
<script src='https://apps.bostonglobe.com/common/js/pym/pym-0.4.1.min.js' type='text/javascript'></script>
<script>
    (function() {
		var getSource = function() {
			validatePath(function(err, path) {
				if(err) { alert('Improper path to jpt supplied. Make sure to paste entire path.'); }
				else {
					if(window.location.hostname.indexOf('prdedit') > -1) {
						return 'http://prdedit.bostonglobe.com/r' + path + '/index.html';
					} else {
						var content = 'Content/';
						var webgraphics = '/WebGraphics/';

						var left = path.indexOf(content) + content.length;
						var right = path.indexOf(webgraphics);

						var section = path.substring(left, right);
						var end = path.substring(right + webgraphics.length, path.length);

						return 'https://bostonglobe.com/r/Boston/2011-2020/WebGraphics/' + section + '/BostonGlobe.com/' + end + '/index.html';
					}		
				}
			});
		};

		var validatePath = function(cb) {
			var path = pathToJPT.trim();
			var err = false;
			var test1 = '.jpt';
			var test2 = '/Boston';
			
			// does not end with .jpt or start with /Boston
			err = path.indexOf(test1, path.length - test1.length) === -1 || path.indexOf(test2) !== 0;

			// remove .jpt
			path = path.substring(0, path.lastIndexOf('/'));

			cb(err, path);
		};

		var pymParent1 = new pym.Parent('globe-graphic-embed-1', getSource(), {});
	})();
</script>
<!-- (END) globe graphic embed -->